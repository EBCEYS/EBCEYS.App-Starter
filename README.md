# EBCEYS.App-Starter

Сервис - запуска приложений внутри контейнера с предварительным запросом конфигурации из [сервера конфигурации](https://github.com/EBCEYS/EBCEYS.Server-Configuration).

## Описание:

Сервис должен являться запускаемым файлом внутри контейнера.

При запуске опрашивает сервер конфигурации, если новая конфигурация, то загружает ее.

Далее запускает выбранное приложение и работает пока запускаемое приложение не прекратит работу.

Во время работы, периодически опрашивает сервер конфигурации на наличие обновлений. Если есть, то загружает их и рестартит исполняемое приложение.

## Переменные окружения:

Вся информация о переменных окружения перечислена [*тут*](./docs/environment.md).

## Подготовка *Dockerfile*

Примеры *Dockerfile*-ов приведены [*тут*](./docs/docker.md)

## Конфигурационный файл *appsettings.json*

В конфигурационном файле описывается только логирование в теге *NLog*. Соответственно библиотеке [*NLog*](https://github.com/NLog/NLog).

Конфигурационный файл хранится вместе с исполняемым файлом данного сервиса.

## *HealthChecks*

Для проверок здоровья используется следующая [библиотека](https://github.com/EBCEYS/EBCEYS.ContainersEnvironment). А именно данный [*healthCheck*](https://github.com/EBCEYS/EBCEYS.ContainersEnvironment/blob/master/EBCEYS.ContainersEnvironment/HealthChecks/PingServiceHealthStatusInfo.cs).

## Сборка

В директории src [файл](./src/Dockerfile) 

CMD *docker build -t ebceys/appstarter:1.0.0 .*

Собираемый образ не является самостоятельным и нужен только для копирования в образ с испольняемым приложением.

Пример приведен [тут](./docs/docker.md)
